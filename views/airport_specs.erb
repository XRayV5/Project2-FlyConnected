

<!-- How to get js to grab the params that I passed in -->

    <h3>Airport Details - <%=@theAirport[:name]%>(<%=@theAirport[:icao]%>)</h3>
    <div id="map"></div>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
    <!-- <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js"></script> -->
    <script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCfxI8a5U-lL1vQiOWBIkowev5IM89MJf8&callback=initialize">
    </script>
    <script>
      var map;
      function initialize() {
        map = new google.maps.Map(document.getElementById('map'), {
          zoom: 14,
          center: new google.maps.LatLng(<%=@theAirport[:latitude]%>, <%=@theAirport[:longitude]%>),
          mapTypeId: 'satellite'
        });
        var marker = new google.maps.Marker({
          position: new google.maps.LatLng(<%=@theAirport[:latitude]%>, <%=@theAirport[:longitude]%>),
          icon: icons['airport'].icon,
          map: map
        });
      }
    //   function initMap() {
    //     // var mapDiv = document.getElementById('map');
    //
    //     map = new google.maps.Map(document.getElementById('map'), {
    //    zoom: 16,
    //    center: new google.maps.LatLng(<%=@theAirport[:latitude]%>, <%=@theAirport[:longitude]%>),
    //    mapTypeId: 'satellite'
    //     // var map = new google.maps.Map(mapDiv, {
    //     //     center: {lat: <%=@theAirport[:latitude]%>, lng:<%=@theAirport[:longitude]%>},
    //     //     zoom: 13
    //     //     // map type: 'satellite'
    //   //});
    // });}


    var iconBase = 'https://maps.google.com/mapfiles/kml/pal2/';
    var icons = {
      airport: {
        icon: iconBase + 'icon48.png'
      },
      library: {
        icon: iconBase + 'library_maps.png'
      },
      info: {
        icon: iconBase + 'info-i_maps.png'
      }
    };
    //
    // function addMarker(feature) {
    //   var marker = new google.maps.Marker({
    //     position: feature.position,
    //     icon: icons[feature.type].icon,
    //     map: map
    //   });
    // }
    //
    //
    //
      // var iconBase = '../public/icons/';
      // var icons = {
      //   airport: {
      //     icon: iconBase + 'airport.png'
      //   },
      //   aircraft: {
      //     icon: iconBase + '.png'
      //   },
      //   info: {
      //     icon: iconBase + 'info-i_maps.png'
      //   }
      // };
    //   //
      // function addMarker(feature) {
      //       var marker = new google.maps.Marker({
      //         position: feature.position,
      //         icon: icons[feature.type].icon,
      //         map: map
      //       });
          // }
    //   //     var features = [
    //   //       // {
    //   //       //    position: new google.maps.LatLng(-33.91721, 151.22630),
    //   //       //    type: 'airport'
    //   //       //  }
    //   //       {
    //   //         position: new google.maps.LatLng(<%=@theAirport[:latitude]%>, <%=@theAirport[:longitude]%>),
    //   //         type: 'airport'
    //   //       }
    //   //     ];
    //
          // for (var i = 0, feature; feature = features[i]; i++) {
          //   addMarker(feature);
          //   console.log(<%=@theAirport[:latitude]%>+"_"+<%=@theAirport[:longitude]%>);
          // }
      </script>

    <style>
    table {
        font-family: arial, sans-serif;
        border-collapse: collapse;
        width: 100%;
    }

    td, th {
        border: 1px solid #dddddd;
        text-align: left;
        padding: 8px;
    }

    tr:nth-child(even) {
        background-color: #dddddd;
    }
    </style>

    <div class="spec_ap">
      <table>
      <tr>
        <th>Airport Name</th>
        <td><%=@theAirport[:name]%></td>
      </tr>
      <tr>
        <th>City</th>
        <td><%=@theAirport[:city]%></td>
      </tr>
      <tr>
        <th>Country</th>
        <td><%=@theAirport[:country]%></td>
      </tr>
      <tr>
        <th>ITTA</th>
        <td><%=@theAirport[:itta]%></td>
      </tr>
      <tr>
        <th>ICAO</th>
        <td><%=@theAirport[:icao]%></td>
      </tr>
      <tr>
        <th>Latitude</th>
        <td><%=@theAirport[:latitude]%></td>
      </tr>
      <tr>
        <th>Longtitude</th>
        <td><%=@theAirport[:longitude]%></td>
      </tr>
      <tr>
        <th>Altitude</th>
        <td><%=@theAirport[:altitude]%> ft</td>
      </tr>
      <tr>
        <th>Hours(GMT+)</th>
        <td><%=@theAirport[:timezone]%></td>
      </tr>
      <tr>
        <th>Daylight Saving Area</th>
        <td><%=@theAirport[:dst]%></td>
      </tr>
      <tr>
        <th>Timezone</th>
        <td><%=@theAirport[:tz]%></td>
      </tr>
    </table>
   </div>
  <!-- <div class="enroute"><a href="/enroute/<%=@theAirport[:icao]%>">Show all flights on route to this airport</a><div> -->

    <div class="container">

    <ul class="nav nav-tabs">
      <!-- <li class="active"><a data-toggle="tab" href="#home">Home</a></li> -->
      <li><a data-toggle="tab" href="#menu1">Departed</a></li>
      <li><a data-toggle="tab" href="#menu2">Arrived</a></li>
      <li><a data-toggle="tab" href="#menu3">Schdueled</a></li>
      <li><a data-toggle="tab" href="#menu4">Enroute</a></li>
    </ul>

    <div class="tab-content">
      <!-- <div id="home" class="tab-pane fade in active">
      </div> -->
      <div id="menu1" class="tab-pane fade">
        <!-- Tab2 -->
        <table>
          <thead>
            <tr>
              <th scope="col">Aircraft Type/ID</th>
              <th scope="col">Origin</th>
              <th scope="col">ICAO</th>
              <th scope="col">Destination Name</th>
              <th scope="col">actualdeparturetime</th>
              <th scope="col">Estimated Arrivaltime</th>
            </tr>
          </thead>
          <tbody>

            <!-- actualarrivaltime	int	actual time of arrival (seconds since 1970)
            actualdeparturetime	int	actual time of departure (seconds since 1970)

            aircrafttype	string	aircraft type ID

            destination	string	the destination ICAO airport ID
            destinationCity	string
            destinationName	string

            estimatedarrivaltime	int	estimated time of arrival (seconds since 1970)

            ident	string	flight ident or tail number

            origin	string	the origin ICAO airport ID
            originCity	string
            originName	string -->


        <%@Departed.each do |flight|%>
              <%= "<tr>
                    <td>
                      <strong class='book-title'>#{flight.aircrafttype}</strong>
                      <span class='text-offset'>#{flight.ident}</span>
                    </td>
                    <td class='item-stock'>
                      <strong class='book-title'><a href='/orgin_detail/#{flight.origin}'>#{flight.originName}</a></strong>
                      <span class='text-offset'>#{flight.originCity}</span>
                    </td>
                    <td class='item-stock'>#{flight.origin}</a></td>
                    <td class='item-qty'>
                      <strong class='book-title'><a href='/orgin_detail/#{flight.origin}'>#{flight.destinationName}</a></strong>
                      <span class='text-offset'>#{flight.destinationCity}</span>
                    </td>
                    <td class='item-stock'>#{Time.at(flight.actualdeparturetime)}</td>
                    <td class='item-qty'>#{Time.at(flight.estimatedarrivaltime)}</td>
                  </tr>"%>
            <%end%>
          </tbody>
        </table>
      </div>
      <div id="menu2" class="tab-pane fade">
        <!-- Tab3 -->
        <table>
          <thead>
            <tr>
              <th scope="col">Aircraft Type/ID</th>
              <th scope="col">Origin</th>
              <th scope="col">ICAO</th>
              <th scope="col">Destination Name</th>
              <th scope="col">actualdeparturetime</th>
              <th scope="col">actualarrivaltime</th>
            </tr>
          </thead>
          <tbody>
            <!-- @aircrafttype=1470275469, = arrivtime
            @destination=1470271920,  = deptime
            @destinationCity="DH8D",  = aircraft
            @destinationName="YMML",  = destination
            @estimatedarrivaltime="Melbourne, Victoria AU", = descity
            @filed_departuretime="Melbourne Tullamarine", = destinatonName
            @ident="QLK2282", good
              All good:
            @origin="YMLT",
            @originCity="Launceston, Tasmania AU",
            @originName="Launceston">, -->
        <%@Arrived.each do |flight|%>
          <%= "<tr>
                <td>
                  <strong class='book-title'>#{flight.destinationCity}</strong>
                  <span class='text-offset'>#{flight.ident}</span>
                </td>
                <td class='item-stock'>
                  <strong class='book-title'><a href='/orgin_detail/#{flight.origin}'>#{flight.originName}</a></strong>
                  <span class='text-offset'>#{flight.originCity}</span>
                </td>
                <td class='item-stock'>#{flight.destinationName}</a></td>
                <td class='item-qty'>
                  <strong class='book-title'><a href='/orgin_detail/#{flight.destinationName}'>#{flight.filed_departuretime}</a></strong>
                  <span class='text-offset'>#{flight.estimatedarrivaltime}</span>
                </td>
                <td class='item-stock'>#{Time.at(flight.destination)}</td>
                <td class='item-stock'>#{Time.at(flight.aircrafttype)}</td>
              </tr>"%>
            <%end%>
          </tbody>
        </table>
      </div>
      <div id="menu3" class="tab-pane fade">
        <!-- Tab4 -->
        <table>
          <thead>
            <tr>
              <th scope="col">Aircraft Type/ID</th>
              <th scope="col">Origin</th>
              <th scope="col">ICAO</th>
              <th scope="col">Destination Name</th>
              <th scope="col">filed_departuretime</th>
              <th scope="col">estimatedarrivaltime</th>
            </tr>
          </thead>
          <tbody>
        <%@Scheduled.each do |flight|%>
          <%= "<tr>
                <td>
                  <strong class='book-title'>#{flight.aircrafttype}</strong>
                  <span class='text-offset'>#{flight.ident}</span>
                </td>
                <td class='item-stock'>
                  <strong class='book-title'><a href='/orgin_detail/#{flight.origin}'>#{flight.originName}</a></strong>
                  <span class='text-offset'>#{flight.originCity}</span>
                </td>
                <td class='item-stock'>#{flight.origin}</a></td>
                <td class='item-qty'>
                  <strong class='book-title'><a href='/orgin_detail/#{flight.destination}'>#{flight.destinationName}</a></strong>
                  <span class='text-offset'>#{flight.destinationCity}</span>
                </td>
                <td class='item-stock'>#{Time.at(flight.filed_departuretime)}</td>
                <td class='item-stock'>#{Time.at(flight.estimatedarrivaltime)}</td>
              </tr>"%>
            <%end%>
          </tbody>
        </table>

      </div>
      <div id="menu4" class="tab-pane fade">
        <!-- Tab4 -->
        <table>
          <thead>
            <tr>
              <th scope="col">Aircraft Type/ID</th>
              <th scope="col">Origin</th>
              <th scope="col">ICAO</th>
              <th scope="col">Destination Name</th>
              <th scope="col">Filed Departuretime</th>
              <th scope="col">Estimated Arrivaltime</th>
            </tr>
          </thead>
          <tbody>

        <%@Enroute.each do |flight|%>
              <%= "<tr>
                    <td>
                      <strong class='book-title'>#{flight.aircrafttype}</strong>
                      <span class='text-offset'>#{flight.ident}</span>
                    </td>
                    <td class='item-stock'>
                      <strong class='book-title'><a href='/orgin_detail/#{flight.origin}'>#{flight.originName}</a></strong>
                      <span class='text-offset'>#{flight.originCity}</span>
                    </td>
                    <td class='item-stock'>#{flight.origin}</a></td>
                    <td class='item-qty'>
                      <strong class='book-title'>#{flight.destinationName}</strong>
                      <span class='text-offset'>#{flight.destinationCity}</span>
                    </td>
                    <td class='item-stock'>#{Time.at(flight.filed_departuretime)}</td>
                    <td class='item-qty'>#{Time.at(flight.estimatedarrivaltime)}</td>
                  </tr>"%>
            <%end%>
          </tbody>
        </table>
      </div>
    </div>
    </div>



<!-- https://www.google.com/maps/embed/v1/view
  ?key=AIzaSyCfxI8a5U-lL1vQiOWBIkowev5IM89MJf8
  &center=-33.8569,151.2152
  &zoom=18
  &maptype=satellite -->
